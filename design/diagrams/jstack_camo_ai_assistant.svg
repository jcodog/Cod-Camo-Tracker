<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: jstack_camo_ai_assistant Pages: 1 -->
<svg width="319pt" height="435pt"
 viewBox="0.00 0.00 318.50 435.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 431)">
<title>jstack_camo_ai_assistant</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-431 314.5,-431 314.5,4 -4,4"/>
<!-- user_question -->
<g id="node1" class="node">
<title>user_question</title>
<path fill="lightgrey" stroke="black" d="M218.5,-427C218.5,-427 96.5,-427 96.5,-427 90.5,-427 84.5,-421 84.5,-415 84.5,-415 84.5,-401 84.5,-401 84.5,-395 90.5,-389 96.5,-389 96.5,-389 218.5,-389 218.5,-389 224.5,-389 230.5,-395 230.5,-401 230.5,-401 230.5,-415 230.5,-415 230.5,-421 224.5,-427 218.5,-427"/>
<text text-anchor="middle" x="157.5" y="-411.8" font-family="Times,serif" font-size="14.00">User asks</text>
<text text-anchor="middle" x="157.5" y="-396.8" font-family="Times,serif" font-size="14.00">progress question</text>
</g>
<!-- api_ai -->
<g id="node2" class="node">
<title>api_ai</title>
<path fill="lightgrey" stroke="black" d="M156,-352C156,-352 63,-352 63,-352 57,-352 51,-346 51,-340 51,-340 51,-326 51,-326 51,-320 57,-314 63,-314 63,-314 156,-314 156,-314 162,-314 168,-320 168,-326 168,-326 168,-340 168,-340 168,-346 162,-352 156,-352"/>
<text text-anchor="middle" x="109.5" y="-336.8" font-family="Times,serif" font-size="14.00">API route</text>
<text text-anchor="middle" x="109.5" y="-321.8" font-family="Times,serif" font-size="14.00">or RPC /ai/ask</text>
</g>
<!-- user_question&#45;&gt;api_ai -->
<g id="edge1" class="edge">
<title>user_question&#45;&gt;api_ai</title>
<path fill="none" stroke="black" d="M145.63,-388.96C140.04,-380.44 133.25,-370.12 127.07,-360.72"/>
<polygon fill="black" stroke="black" points="129.81,-358.52 121.4,-352.09 123.96,-362.37 129.81,-358.52"/>
</g>
<!-- fetch_progress -->
<g id="node3" class="node">
<title>fetch_progress</title>
<path fill="lightgrey" stroke="black" d="M160,-277C160,-277 25,-277 25,-277 19,-277 13,-271 13,-265 13,-265 13,-251 13,-251 13,-245 19,-239 25,-239 25,-239 160,-239 160,-239 166,-239 172,-245 172,-251 172,-251 172,-265 172,-265 172,-271 166,-277 160,-277"/>
<text text-anchor="middle" x="92.5" y="-261.8" font-family="Times,serif" font-size="14.00">Fetch UserProgress</text>
<text text-anchor="middle" x="92.5" y="-246.8" font-family="Times,serif" font-size="14.00">with Prisma</text>
</g>
<!-- api_ai&#45;&gt;fetch_progress -->
<g id="edge2" class="edge">
<title>api_ai&#45;&gt;fetch_progress</title>
<path fill="none" stroke="black" d="M105.3,-313.96C103.4,-305.8 101.11,-295.97 98.99,-286.89"/>
<polygon fill="black" stroke="black" points="102.39,-286.04 96.71,-277.09 95.57,-287.62 102.39,-286.04"/>
</g>
<!-- build_prompt -->
<g id="node4" class="node">
<title>build_prompt</title>
<path fill="lightgrey" stroke="black" d="M161,-188C161,-188 12,-188 12,-188 6,-188 0,-182 0,-176 0,-176 0,-162 0,-162 0,-156 6,-150 12,-150 12,-150 161,-150 161,-150 167,-150 173,-156 173,-162 173,-162 173,-176 173,-176 173,-182 167,-188 161,-188"/>
<text text-anchor="middle" x="86.5" y="-172.8" font-family="Times,serif" font-size="14.00">Build prompt</text>
<text text-anchor="middle" x="86.5" y="-157.8" font-family="Times,serif" font-size="14.00">with progress context</text>
</g>
<!-- fetch_progress&#45;&gt;build_prompt -->
<g id="edge3" class="edge">
<title>fetch_progress&#45;&gt;build_prompt</title>
<path fill="none" stroke="black" d="M91.26,-238.97C90.44,-227.19 89.37,-211.56 88.44,-198.16"/>
<polygon fill="black" stroke="black" points="91.92,-197.74 87.74,-188 84.94,-198.22 91.92,-197.74"/>
</g>
<!-- ai_sdk -->
<g id="node5" class="node">
<title>ai_sdk</title>
<path fill="lightgrey" stroke="black" d="M154.5,-113C154.5,-113 62.5,-113 62.5,-113 56.5,-113 50.5,-107 50.5,-101 50.5,-101 50.5,-87 50.5,-87 50.5,-81 56.5,-75 62.5,-75 62.5,-75 154.5,-75 154.5,-75 160.5,-75 166.5,-81 166.5,-87 166.5,-87 166.5,-101 166.5,-101 166.5,-107 160.5,-113 154.5,-113"/>
<text text-anchor="middle" x="108.5" y="-97.8" font-family="Times,serif" font-size="14.00">Vercel AI SDK</text>
<text text-anchor="middle" x="108.5" y="-82.8" font-family="Times,serif" font-size="14.00">call LLM</text>
</g>
<!-- build_prompt&#45;&gt;ai_sdk -->
<g id="edge4" class="edge">
<title>build_prompt&#45;&gt;ai_sdk</title>
<path fill="none" stroke="black" d="M91.94,-149.96C94.4,-141.8 97.36,-131.97 100.1,-122.89"/>
<polygon fill="black" stroke="black" points="103.51,-123.67 103.05,-113.09 96.81,-121.66 103.51,-123.67"/>
</g>
<!-- stream -->
<g id="node6" class="node">
<title>stream</title>
<path fill="lightgrey" stroke="black" d="M211.5,-38C211.5,-38 97.5,-38 97.5,-38 91.5,-38 85.5,-32 85.5,-26 85.5,-26 85.5,-12 85.5,-12 85.5,-6 91.5,0 97.5,0 97.5,0 211.5,0 211.5,0 217.5,0 223.5,-6 223.5,-12 223.5,-12 223.5,-26 223.5,-26 223.5,-32 217.5,-38 211.5,-38"/>
<text text-anchor="middle" x="154.5" y="-22.8" font-family="Times,serif" font-size="14.00">Stream response</text>
<text text-anchor="middle" x="154.5" y="-7.8" font-family="Times,serif" font-size="14.00">back to client</text>
</g>
<!-- ai_sdk&#45;&gt;stream -->
<g id="edge5" class="edge">
<title>ai_sdk&#45;&gt;stream</title>
<path fill="none" stroke="black" d="M119.87,-74.96C125.23,-66.44 131.74,-56.12 137.66,-46.72"/>
<polygon fill="black" stroke="black" points="140.73,-48.42 143.1,-38.09 134.81,-44.68 140.73,-48.42"/>
</g>
<!-- stream&#45;&gt;user_question -->
<g id="edge6" class="edge">
<title>stream&#45;&gt;user_question</title>
<path fill="none" stroke="black" d="M174.43,-38.09C187.24,-51.76 201.5,-71.75 201.5,-93 201.5,-334 201.5,-334 201.5,-334 201.5,-351.24 192.39,-367.9 182.46,-380.95"/>
<polygon fill="black" stroke="black" points="179.52,-379.01 175.91,-388.97 184.94,-383.44 179.52,-379.01"/>
<text text-anchor="middle" x="256" y="-209.8" font-family="Times,serif" font-size="14.00">Render answer</text>
</g>
</g>
</svg>
